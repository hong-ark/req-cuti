<script>
async function cekNIK() {
Â  const nik = document.getElementById("nik").value.trim();
Â  const hasil = document.getElementById("hasil");
Â  const btnForm = document.getElementById("formCutiBtn");

Â  if (!nik) {
Â  Â  hasil.innerText = "âš ï¸ Silakan masukkan NIK.";
Â  Â  btnForm.style.display = "none";
Â  Â  return;
Â  }

Â  hasil.innerText = "ğŸ”„ Mencari data...";
Â  btnForm.style.display = "none";

Â  try {
Â  Â  // Pastikan URL Google Apps Script Anda benar-benar berfungsi dan di-deploy!
Â  Â  const response = await fetch(`https://script.google.com/macros/s/AKfycbz2Vcne0S9qUcVGCNan2ChqwcPdcqKbHVh3RdnCdK5e-UktyDu-uxVO_5uGccRQtctU/exec?nik=${nik}`);
Â  Â  const data = await response.json();

Â  Â  if (data.nama && data.group) {
Â  Â  Â  hasil.innerHTML = `
Â  Â  Â  Â  âœ… Nama: <strong>${data.nama}</strong><br>
Â  Â  Â  Â  ğŸ“Œ Group: <strong>${data.group}</strong>
Â  Â  Â  `;
Â  Â  Â  btnForm.style.display = "block";
Â  Â  Â  btnForm.dataset.nama = data.nama;
Â  Â  Â  btnForm.dataset.nik = nik;
Â  Â  Â  btnForm.dataset.group = data.group;
Â  Â  } else {
Â  Â  Â  hasil.innerText = "âŒ NIK tidak ditemukan di database.";
Â  Â  }
Â  } catch (err) {
Â  Â  hasil.innerText = "âŒ Gagal mengambil data. (Cek log konsol)";
Â  Â  console.error("Error Fetching Data:", err);
Â  }
}

function lanjutForm() {
Â  const btn = document.getElementById("formCutiBtn");
Â  const nama = encodeURIComponent(btn.dataset.nama);
Â  const nik = encodeURIComponent(btn.dataset.nik);
Â  const group = encodeURIComponent(btn.dataset.group);

Â  // Menghubungkan ke form-request.html dengan Query String
Â  const formURL = `form-request.html?nik=${nik}&nama=${nama}&group=${group}`;

Â  window.location.href = formURL;
} // <-- Perhatikan: Hanya satu kurung kurawal penutup untuk fungsi lanjutForm
</script>
